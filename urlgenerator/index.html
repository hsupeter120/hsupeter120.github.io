<!doctype html><html lang="zh"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>URL-Generator</title><link rel="stylesheet" href="./main.css"><script defer="defer" src="main.js"></script></head><body><div class="container" id="app"><div class="wrapper h-100 flex"><form class="config w-100 h-100 grid grid-rows:auto-auto-1fr"><div class="config--activ p-3 flex flex-col gap-1"><input placeholder="活動 / 檔期名稱" v-model="data.activ.name"><div v-for="(_time, _idx) in data.activ.times" class="flex gap-1 item-center activ-time"><span>{{ _time.name }}</span> : <input type="date" :min="addDay(data.activ.times?.[_idx-1]?.time?.end, 1)" v-model="_time.time.start" @change="changeDiff(_time); setInputLimit(); setEditedNPNPeriod();updateOutputPeriod();" required> -- <input type="date" :min="_time.time.start" v-model="_time.time.end" @change="changeDiff(_time); setInputLimit(); setEditedNPNPeriod();updateOutputPeriod();" required> 共 <input type="number" min="1" :disabled="!_time.time.start" v-model="_time.time.diff" @change="changeEndDate(_time); setInputLimit(); setEditedNPNPeriod();updateOutputPeriod();"> 天</div></div><div class="config--select p-3"><select class="w-100" v-model="data.editedStatus.type"><option v-for="(_type, _key) in data.page.types" :value="_key" :selected="_type.title.name === data.editedStatus.type"><span>{{ _type.id }}-{{ _type.title.name }}{{ _type.title.hint }}</span></option></select></div><div class="config--page grid grid-rows:auto-1fr-auto gap-2 p-3 h-100 rounded-1"><div class="LPN-section flex flex-col gap-1 justify-center"><div class="section-title"><span>LPN</span></div><input placeholder="頁面名稱" v-model="data.editedStatus.LPN.name"></div><div class="NPN-section grid gap-1 grid-rows:auto-1fr h-100"><div class="section-title flex gap-1 item-center"><span>NPN</span> <button type="button" class="p-1" @click="addNPN">+ 新增 NPN</button> <button type="button" class="p-1" @click="setNPNNameUseLPN">帶入 LPN 名稱</button> <button type="button" class="p-1" @click="setNPNDateUseActiv">帶入檔期日期</button> <button type="button" class="p-1" @click="sortNPN">/ 依日期排序</button> <button type="button" class="p-1" @click="rmAllNPN">X 清除全部 NPN</button></div><ul class="NPN-edited-wrapper flex flex-col gap-1 p-3"><li class="flex gap-1 item-center" v-for="(_NPNItem, _idx) in data.editedStatus.NPNList" :key="_NPNItem.id"><input placeholder="頁面名稱" v-model="_NPNItem.name"> <input type="date" :min="data.activ.times[0].time.start" :max="data.activ.times.at(-1).time.end" v-model="_NPNItem.time.start" @change="setInputLimit(); setEditedNPNPeriod();" required> - <input type="date" :min="_NPNItem.time.start" :max="data.activ.times[_NPNItem.time.inputLimit]?.time.end" v-model="_NPNItem.time.end" @change="setInputLimit(); setEditedNPNPeriod();" required> <button type="button" @click="rmNPN(_idx)">X</button></li></ul></div><button type="button" class="mk-btn p-2 rounded-1 dark-btn" :class="{ 'hide t-y:150p': isUpdatedStatus() }" @click="submit">產出 >></button><div class="update-btn-wrapper flex gap-1" :class="{ 'hide t-y:150p': !isUpdatedStatus() }"><button type="button" class="p-2 w-100 cancel-btn rounded-1 light-btn" @click="cancelUpdate">取消編輯</button> <button type="button" class="p-2 w-100 edit-check-btn rounded-1 dark-btn" @click="submit">確認修改 >></button></div></div><div class="w-100 h-100 overlay" :class="{ hide: !isUpdatedStatus() }"></div></form><div class="output w-100 p-3 flex flex-col gap-1"><div class="activ"><p>{{ activTitle }}</p><br></div><div class="page"><div><div class="p-1 rounded-1 component"><div><p>{{data.component.output.title.NPN}}</p><p>----------------------------------------------------------------------------</p></div><div><p v-for="(time, _idx) in data.activ.times" id="componentName">(共用素材) {{`${ time.name }-`}}{{`${ padNumToTwo(data.activ.month) }短促_${ data.activ.name }`}}</p></div></div><br><br></div><div class="LPN"><div v-for="(_type, _typeKey) in data.page.types" :class="_typeKey" v-show="!!_type.output.NPNList.length"><div><p>{{data.page.types[_typeKey].output.title.LPN}}</p><p>----------------------------------------------------------------------------</p></div><div><div v-for="(_section, _sectionIdx) in data.page.types[_typeKey].output.LPNList"><p class="p-1 p-l-2 rounded-1" :class="{ focusTxt: data.editedStatus.type === _typeKey && data.editedStatus.idx === _sectionIdx }">{{ _section.periods.map(period => data.activ.times?.[period]?.name).join('+') }}{{`-${data.page.types[_typeKey].id}`}}{{`-${data.page.types[_typeKey].title.name}`}}{{ data.page.types[_typeKey].output.LPNList.length === 1 ? null :`-${ padNumToTwo(_sectionIdx+1) }` }}{{ !_section.name ? null : `-${_section.name}`}}</p></div></div><br><br></div></div><div class="NPN"><div v-for="(_type, _typeKey) in data.page.types" :class="_typeKey" v-show="!!_type.output.NPNList.length"><div><p>{{data.page.types[_typeKey].output.title.NPN}}</p><p>----------------------------------------------------------------------------</p></div><div><div v-for="(_section, _sectionIdx) in data.page.types[_typeKey].output.NPNList" class="flex gap-1 item-center p-1 rounded-1" :class="{ focusTxt: data.editedStatus.type === _typeKey && data.editedStatus.idx === _sectionIdx }"><div class="p-1 update-btn" :class="{ focusColor: data.editedStatus.type === _typeKey && data.editedStatus.idx === _sectionIdx }" @click="edit" :data-section="`${_typeKey}-${_sectionIdx}`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg></div><div><p v-for="(_item, _idx) in _section" id="privateName">{{ `${ data.activ.times?.[_item.time.period]?.name || null }` }}{{ `-${ data.page.types[_typeKey].id }-` }}<span id="typeName">{{ `${_type.title.name}` }}</span>{{ data.page.types[_typeKey].output.NPNList.length === 1 ? null : `-${ padNumToTwo(_sectionIdx+1) }` }}<span id="NPNName">{{ !_item.name ? null :`-${_item.name}` }}</span>{{ _section.length === 1 ? null : `(${getAlphabet(_idx)})`}}<span v-show="_section.length !== 1"> {{ `(${ this.getDateDetail(_item.time.start).month }/${this.getDateDetail(_item.time.start).date }` }}{{ _item.time.start === _item.time.end ? ')' : `-${ this.getDateDetail(_item.time.end).month }/${this.getDateDetail(_item.time.end).date })` }}</span></p></div></div></div><br><br></div></div></div><button type="button" class="p-2 copy-btn rounded-1 light-btn" @click="copyOutput">COPY</button> <button type="button" class="p-2 exc-btn rounded-1 light-btn" @click="generateAllResultList">OUTPUT</button></div></div></div></body></html>
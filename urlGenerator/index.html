<!doctype html><html lang="zh"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="URL-Generator"><title>URL-Generator</title><script defer="defer" src="static/js/index_93825cdabe.js"></script><link href="static/style/main_93825cdabe.css" rel="stylesheet"></head><body><div class="h-screen" id="app" v-cloak><div class="wrapper h-full flex"><form class="config w-[600px] h-full grid grid-rows-[auto_auto_minmax(0,_1fr)]"><div class="config--activ p-3 flex flex-col gap-2 bg-zinc-300 border-b-2 border-b-zinc-400 border-double"><input class="p-1" placeholder="活動 / 檔期名稱" v-model.trim="data.activ.name"><div v-for="(_time, _idx) in data.activ.times" class="flex gap-2 item-center place-items-center activ-time"><span class="inline h-fit">{{ _time.name }}</span> : <input type="date" class="p-1" :min="addDay(data.activ.times?.[_idx-1]?.time?.end, 1)" v-model="_time.time.start" @change="changeDiff(_time); setInputLimit(); setEditedNPNPeriod();updateOutputPeriod();" required> -- <input type="date" class="p-1" :min="_time.time.start" v-model="_time.time.end" @change="changeDiff(_time); setInputLimit(); setEditedNPNPeriod();updateOutputPeriod();" required> 共 <input type="number" min="1" :disabled="!_time.time.start" v-model="_time.time.diff" @change="changeEndDate(_time); setInputLimit(); setEditedNPNPeriod();updateOutputPeriod();"> 天</div></div><div class="config--select p-3"><select class="w-full p-1.5 bg-zinc-200" v-model="data.editedStatus.type"><option v-for="(_type, _key) in data.page.types" class="bg-zinc-100" :value="_key" :selected="_type.title.name === data.editedStatus.type"><span>{{ _type.id }}-{{ _type.title.name }}{{ _type.title.hint }}</span></option></select></div><div class="config--page grid grid-rows-[auto_minmax(0,_1fr)_auto] gap-3 p-3 h-full rounded-1"><div class="LPN-section flex flex-col gap-1 justify-center"><div class="section-title"><span>LPN</span></div><input placeholder="頁面名稱" class="p-1" v-model.trim="data.editedStatus.LPN.name"></div><div class="NPN-section grid grid-rows-[auto_minmax(0,_1fr)] h-full"><div class="section-title flex gap-1 item-center place-items-center"><span class="w-full">NPN</span> <button type="button" class="p-2 transition-all bg-zinc-600 rounded-t-md hover:bg-zinc-800 text-sm whitespace-nowrap text-white" @click="addNPN">+ 新增 NPN</button> <button type="button" class="p-2 transition-all bg-zinc-600 rounded-t-md hover:bg-zinc-800 text-sm whitespace-nowrap text-white" @click="setNPNNameUseLPN">帶入 LPN 名稱</button> <button type="button" class="p-2 transition-all bg-zinc-600 rounded-t-md hover:bg-zinc-800 text-sm whitespace-nowrap text-white" @click="setNPNDateUseActiv">帶入檔期日期</button> <button type="button" class="p-2 transition-all bg-zinc-600 rounded-t-md hover:bg-zinc-800 text-sm whitespace-nowrap text-white" @click="sortNPN">/ 依日期排序</button> <button type="button" class="p-2 transition-all bg-zinc-600 rounded-t-md hover:bg-zinc-800 text-sm whitespace-nowrap text-white" @click="rmAllNPN">X 清除全部 NPN</button></div><ul class="NPN-edited-wrapper flex flex-col gap-2 p-3"><li class="flex gap-1.5 item-center place-items-cenetr" v-for="(_NPNItem, _idx) in data.editedStatus.NPNList" :key="_NPNItem.id"><input class="p-1 w-full" placeholder="頁面名稱" v-model.trim="_NPNItem.name"> <input type="date" class="p-1 w-full" :min="data.activ.times[0].time.start" :max="data.activ.times.at(-1).time.end" v-model="_NPNItem.time.start" @change="setInputLimit(); setEditedNPNPeriod();" required> - <input type="date" class="p-1 w-full" :min="_NPNItem.time.start" :max="data.activ.times[_NPNItem.time.inputLimit]?.time.end" v-model="_NPNItem.time.end" @change="setInputLimit(); setEditedNPNPeriod();" required> <button type="button" class="p-1 bg-zinc-300 hover:bg-zinc-400 transition-all rounded-sm h-full aspect-square" @click="rmNPN(_idx)">X</button></li></ul></div><button type="button" class="mk-btn p-2 rounded-1 cursor-pointer font-bold bg-zinc-700 hover:bg-zinc-900 text-white transition-all" :class="{ 'hide t-y:150p': isUpdatedStatus() }" @click="submit">產出 >></button><div class="update-btn-wrapper flex gap-1" :class="{ 'hide t-y:150p': !isUpdatedStatus() }"><button type="button" class="cancel-btn p-2 w-full rounded-1 cursor-pointer font-bold bg-zinc-200 hover:bg-zinc-300 text-black transition-all" @click="cancelUpdate">取消編輯</button> <button type="button" class="edit-check-btn p-2 w-full rounded-1 cursor-pointer font-bold light-btn bg-zinc-700 hover:bg-zinc-900 text-white transition-all" @click="submit">確認修改 >></button></div></div><div class="w-full h-full overlay bg-black/50" :class="{ hide: !isUpdatedStatus() }"></div></form><div class="output w-full p-3 flex flex-col gap-1 bg-zinc-700"><div class="activ"><p>{{ activTitle }}</p><br></div><div class="page"><div><div class="p-1 rounded-1 component"><div><p>{{data.component.output.title.NPN}}</p><p>----------------------------------------------------------------------------</p></div><div><p v-for="(time, _idx) in data.activ.times" id="componentName">(共用素材) {{`${ time.name }-`}}{{`${ padNumToTwo(data.activ.month) }月短促_${ data.activ.name }`}}</p></div></div><br><br></div><div class="LPN"><div v-for="(_type, _typeKey) in data.page.types" :class="_typeKey" v-show="!!_type.output.NPNList.length"><div><p>{{data.page.types[_typeKey].output.title.LPN}}</p><p>----------------------------------------------------------------------------</p></div><div><div v-for="(_section, _sectionIdx) in data.page.types[_typeKey].output.LPNList"><p class="p-1 p-l-2 rounded-1" :class="{ focusTxt: data.editedStatus.type === _typeKey && data.editedStatus.idx === _sectionIdx }">{{ _section.periods.map(period => data.activ.times?.[period]?.name).join('+') }}{{`-${data.page.types[_typeKey].id}`}}{{`-${data.page.types[_typeKey].title.name}`}}{{ data.page.types[_typeKey].output.LPNList.length === 1 ? null :`-${ padNumToTwo(_sectionIdx+1) }` }}{{ !_section.name ? null : `-${_section.name}`}}</p></div></div><br><br></div></div><div class="NPN"><div v-for="(_type, _typeKey) in data.page.types" :class="_typeKey" v-show="!!_type.output.NPNList.length"><div><p>{{data.page.types[_typeKey].output.title.NPN}}</p><p>----------------------------------------------------------------------------</p></div><div><div v-for="(_section, _sectionIdx) in data.page.types[_typeKey].output.NPNList" class="flex gap-1 item-center p-1 rounded-md" :class="{ focusTxt: data.editedStatus.type === _typeKey && data.editedStatus.idx === _sectionIdx }"><div class="p-1 update-btn" :class="{ focusColor: data.editedStatus.type === _typeKey && data.editedStatus.idx === _sectionIdx }" @click="edit" :data-section="`${_typeKey}-${_sectionIdx}`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg></div><div><p v-for="(_item, _idx) in _section" id="privateName">{{ `${ data.activ.times?.[_item.time.period]?.name || null }` }}{{ `-${ data.page.types[_typeKey].id }-` }}<span id="typeName">{{ `${_type.title.name}` }}</span>{{ data.page.types[_typeKey].output.NPNList.length === 1 ? null : `-${ padNumToTwo(_sectionIdx+1) }` }}<span id="NPNName">{{ !_item.name ? null :`-${_item.name}` }}</span>{{ _section.length === 1 ? null : `(${getAlphabet(_idx)})`}}<span v-show="_section.length !== 1"> {{ `(${ this.getDateDetail(_item.time.start).month }/${this.getDateDetail(_item.time.start).date }` }}{{ _item.time.start === _item.time.end ? ')' : `-${ this.getDateDetail(_item.time.end).month }/${this.getDateDetail(_item.time.end).date })` }}</span></p></div></div></div><br><br></div></div></div><button type="button" class="copy-btn p-2 rounded-md rounded-1 cursor-pointer font-bold bg-zinc-200 hover:bg-zinc-300 text-black transition-all" @click="copyOutput($event, '.output')">COPY</button> <button type="button" class="exc-btn p-2 rounded-md rounded-1 cursor-pointer font-bold bg-zinc-200 hover:bg-zinc-300 text-black transition-all" @click="outputScripts(); data.uiStatus.scriptsAreaIsOpen = true;">OUTPUT</button></div><div class="custom-scripts fixed bg-zinc-800 bottom-2 right-2 z-50 text-white w-[30%] h-[65%] p-5 rounded-xl duration-500 translate-x-[0]" :class="{'translate-x-[100%]': !data.uiStatus.scriptsAreaIsOpen}"><div class="custom-scripts-handle-btn flex item-center justify-center" @click="data.uiStatus.scriptsAreaIsOpen = !data.uiStatus.scriptsAreaIsOpen"><svg :class="{'rotate-180': data.uiStatus.scriptsAreaIsOpen }" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></div><button type="button" class="copy-btn p-2 rounded-md rounded-1 cursor-pointer font-bold bg-zinc-200 hover:bg-zinc-300 text-black transition-all opacity-50 hover:opacity-90" @click="copyOutput($event, '.custom-scripts')">COPY</button><div class="code-wrap h-full overflow-y-auto"><code class="language-javascript">const data = {{ data.customScripts.data }};</code><br><code class="language-javascript">{{ scripts }}</code></div></div></div></div></body></html>